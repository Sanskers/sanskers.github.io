<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <style>
    html, body { margin:0; background:transparent; overflow:hidden; font-family: Arial, sans-serif; color:#fff; }
    #panel { display:inline-flex; flex-direction:column; align-items:center; gap:6px; padding:14px 18px;
             border-radius:14px; background: transparent; text-shadow:0 0 2px rgba(0,0,0,0.85); }
    #label { font-size:18px; letter-spacing:.14em; opacity:.9; }
    #score { font-size:96px; font-weight:900; line-height:1; }
  </style>
</head>
<body>
  <div id="panel">
    <div id="label">SURVIVOR SCORE</div>
    <div id="score">0</div>
  </div>

  <script>
    const ENDPOINT = "https://script.google.com/macros/s/AKfycbw7XFX1iUM1EJI6SupQIzl5MXP7EQsvFRuTP8d-JEiqOni9fxC_moTyiulF93FJgAPL/exec";
    const POLL_MS = 750;

    let lastTs = 0;

    async function tick() {
      try {
        const res = await fetch(ENDPOINT + (ENDPOINT.includes("?") ? "&" : "?") + "t=" + Date.now(), { cache: "no-store" });
        if (!res.ok) return;

        const data = await res.json();
        const ts = Number(data.ts) || 0;
        const score = (data.score ?? "").toString().trim();

        // ignore stale responses
        if (ts < lastTs) return;
        lastTs = ts;

        if (score !== "") document.getElementById("score").textContent = score;
      } catch (e) {
        // keep last value
      }
    }

    tick();
    setInterval(tick, POLL_MS);
  </script>
</body>
</html>


